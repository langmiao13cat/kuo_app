<!DOCTYPE html>
<html>
<head>
    <title>郭家肉舖網上商店</title>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='style.css') }}">
    <script src="{{ url_for('static', filename='script.js') }}"></script>
</head>
<body>
    <h1>產品列表</h1>
    {% for category, products in categories.items() %}
        <h2>{{ category }}</h2>
        <ul>
            {% for product in products %}
                <li>
                    <img src="{{ product.img_url }}" alt="{{ product.name }}">
                    {{ product.name }} - {{ product.description }} - {{ product.price }}元
                    <button onclick="showQuantitySelector('{{ product.product_id }}')">我要買</button>
                    <div id="{{ product.product_id }}" style="display:none;">
                        <form action="{{ url_for('add_to_cart', product_name=product.name) }}" method="post">
                            <input type="hidden" name="product_name" value="{{ product.name }}">
                            <button type="button" onclick="changeQuantity('{{ product.product_id }}', -1)">-</button>
                            <input type="text" name="quantity" value="1" id="quantity_{{ product.product_id }}" readonly>
                            <button type="button" onclick="changeQuantity('{{ product.product_id }}', 1)">+</button>
                            <input type="submit" value="添加到購物車">
                        </form>
                    </div>
                </li>
            {% endfor %}
        </ul>
    {% endfor %}
</body>
</html>
